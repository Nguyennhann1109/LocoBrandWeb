‚úÖ BACKEND CHECKLIST ‚Äì FORTHEHOOD
1Ô∏è‚É£ X√ÅC ƒê·ªäNH NGHI·ªÜP V·ª§

‚úÖ ADMIN

T·∫°o t√†i kho·∫£n EMPLOYEE

Qu·∫£n l√Ω s·∫£n ph·∫©m

Qu·∫£n l√Ω ƒë∆°n h√†ng

Qu·∫£n l√Ω kh√°ch h√†ng

‚úÖ EMPLOYEE

X·ª≠ l√Ω ƒë∆°n h√†ng

C·∫≠p nh·∫≠t tr·∫°ng th√°i ƒë∆°n

‚úÖ CUSTOMER

Guest: xem s·∫£n ph·∫©m

C√≥ t√†i kho·∫£n: mua h√†ng

‚ùå Customer KH√îNG t·∫°o employee
‚ùå Employee KH√îNG t·∫°o t√†i kho·∫£n

üëâ Logic n√†y ph·∫£i ph·∫£n √°nh ƒë√∫ng trong Security + Service

2Ô∏è‚É£ DATABASE DESIGN

‚úÖ roles
‚úÖ accounts
‚úÖ customers
‚úÖ employees
‚úÖ categories
‚úÖ products
‚úÖ orders
‚úÖ order_items

üîê Account & Role

roles
| field | note                        |
| ----- | --------------------------- |
| id    | PK                          |
| name  | ADMIN / EMPLOYEE / CUSTOMER |

accounts
| field      | note            |
| ---------- | --------------- |
| id         | PK              |
| email      | unique          |
| password   | m√£ h√≥a          |
| role_id    | FK ‚Üí roles      |
| status     | ACTIVE / LOCKED |
| created_at |                 |


üë§ Customer

customers
| field      | note |
| ---------- | ---- |
| id         | PK   |
| account_id | FK   |
| name       |      |
| phone      |      |
| address    |      |


üßë‚Äçüíº Employee

employees
| field      | note     |
| ---------- | -------- |
| id         | PK       |
| account_id | FK       |
| name       |          |
| position   |          |
| created_by | admin_id |


üõí Product & Category

categories

| id | name | status |

products
| field       | note |
| ----------- | ---- |
| id          | PK   |
| name        |      |
| price       |      |
| stock       |      |
| category_id | FK   |
| status      |      |


üì¶ Order

orders
| field       | note                     |
| ----------- | ------------------------ |
| id          | PK                       |
| customer_id | FK                       |
| total_price |                          |
| status      | PENDING / PAID / SHIPPED |
| created_at  |                          |


order_items

| id | order_id | product_id | quantity | price |


üëâ Quan h·ªá:

role 1‚Äìn account

account 1‚Äì1 customer / employee

customer 1‚Äìn orders

order 1‚Äìn order_items

category 1‚Äìn products

3Ô∏è‚É£ ENTITY LAYER (JPA)

‚¨ú RoleEntity
‚¨ú AccountEntity
‚¨ú CustomerEntity
‚¨ú EmployeeEntity
‚¨ú CategoryEntity
‚¨ú ProductEntity
‚¨ú OrderEntity
‚¨ú OrderItemEntity

‚¨ú Enum:

RoleName (ADMIN, EMPLOYEE, CUSTOMER)

AccountStatus (ACTIVE, LOCKED)

OrderStatus (PENDING, PAID, SHIPPED)

‚¨ú Mapping chu·∫©n:

@OneToMany

@ManyToOne

@OneToOne

@JoinColumn

fetch = LAZY

4Ô∏è‚É£ REPOSITORY LAYER

‚¨ú RoleRepository
‚¨ú AccountRepository
‚¨ú CustomerRepository
‚¨ú EmployeeRepository
‚¨ú ProductRepository
‚¨ú CategoryRepository
‚¨ú OrderRepository
‚¨ú OrderItemRepository

‚¨ú Custom query:

findByEmail

findByRole

findOrdersByCustomerId

5Ô∏è‚É£ SERVICE LAYER (CORE ‚Äì QUAN TR·ªåNG NH·∫§T)

‚¨ú AuthService

login()

registerCustomer()

‚¨ú AccountService

adminCreateEmployee()

lockAccount()

‚¨ú ProductService

createProduct()

updateProduct()

getProductList()

‚¨ú OrderService

createOrder()

updateOrderStatus()

getOrdersByCustomer()

‚¨ú CategoryService

üëâ To√†n b·ªô business rule PH·∫¢I n·∫±m ·ªü ƒë√¢y
‚ùå Controller kh√¥ng x·ª≠ l√Ω logic

6Ô∏è‚É£ SPRING SECURITY (B·∫ÆT BU·ªòC ‚Äì SHOP TH·∫¨T)

‚¨ú BCryptPasswordEncoder
‚¨ú UserDetailsService
‚¨ú JWT Utils
‚¨ú JWT Filter
‚¨ú SecurityConfig

‚¨ú Ph√¢n quy·ªÅn:

/admin/** ‚Üí ADMIN

/employee/** ‚Üí EMPLOYEE

/auth/** ‚Üí PUBLIC

/products/** ‚Üí PUBLIC

‚¨ú Kh√¥ng ƒëƒÉng nh·∫≠p ‚Üí kh√¥ng mua h√†ng
‚¨ú Employee kh√¥ng g·ªçi API admin

7Ô∏è‚É£ CONTROLLER LAYER

‚¨ú AuthController

POST /auth/login

POST /auth/register

‚¨ú AdminController

POST /admin/create-employee

POST /admin/products

‚¨ú EmployeeController

GET /employee/orders

PUT /employee/orders/{id}

‚¨ú PublicController

GET /products

GET /categories

‚¨ú CustomerController

POST /orders

GET /orders/my

8Ô∏è‚É£ DTO & RESPONSE

‚¨ú Request DTO
‚¨ú Response DTO
‚¨ú Kh√¥ng tr·∫£ Entity tr·ª±c ti·∫øp
‚¨ú Chu·∫©n response cho FE

9Ô∏è‚É£ VALIDATION & EXCEPTION

‚¨ú @Valid request
‚¨ú GlobalExceptionHandler
‚¨ú Custom Exception (Unauthorized, NotFound‚Ä¶)
‚¨ú HTTP status ƒë√∫ng chu·∫©n

üîü TEST & HO√ÄN THI·ªÜN

‚¨ú Test login JWT (ADMIN / EMPLOYEE / CUSTOMER)
‚¨ú Test ph√¢n quy·ªÅn 401 / 403
‚¨ú Test admin t·∫°o employee
‚¨ú Test customer ƒë·∫∑t h√†ng
‚¨ú Test employee c·∫≠p nh·∫≠t ƒë∆°n
‚¨ú Test guest ch·ªâ xem ƒë∆∞·ª£c s·∫£n ph·∫©m